<Window x:Class="Plagin_Revit.UI.BIMAssistantPanel"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="BIM Assistant" Height="600" Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip">

    <Window.Resources>
        <Style x:Key="UserMessageStyle" TargetType="Border">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="5,2,50,2"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
        </Style>

        <Style x:Key="BotMessageStyle" TargetType="Border">
            <Setter Property="Background" Value="#F0F0F0"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="50,2,5,2"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#0078D4" Padding="15">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸ¤–" FontSize="20" Margin="0,0,10,0"/>
                <TextBlock Text="BIM Assistant" Foreground="White" FontSize="16" FontWeight="Bold"/>
            </StackPanel>
        </Border>

        <!-- Chat Messages -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="10">
            <StackPanel x:Name="ChatPanel" Orientation="Vertical">
                <Border Style="{StaticResource BotMessageStyle}">
                    <TextBlock Text="Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ! Ð¯ BIM Assistant. Ð—Ð°Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ð¾:" 
                               TextWrapping="Wrap" Foreground="Black"/>
                </Border>
                <Border Style="{StaticResource BotMessageStyle}" Margin="50,2,5,2">
                    <StackPanel>
                        <TextBlock Text="â€¢ BIM ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð°Ð¼ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸" FontWeight="SemiBold"/>
                        <TextBlock Text="â€¢ Ð Ð°Ð±Ð¾Ñ‚Ðµ Ð² Revit"/>
                        <TextBlock Text="â€¢ Ð¢Ð¸Ð¿Ð¾Ð²Ñ‹Ð¼ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ð¼ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸ÑÐ¼"/>
                        <TextBlock Text="â€¢ Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ" Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Quick Actions -->
        <Border Grid.Row="2" Background="#F8F8F8" Padding="10" BorderThickness="0,1,0,0" BorderBrush="#E0E0E0">
            <StackPanel>
                <TextBlock Text="Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                <WrapPanel>
                    <Button Content="Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ñ‹ BIM" Click="QuickStandards_Click" Margin="2" Padding="8,4"/>
                    <Button Content="ÐžÑˆÐ¸Ð±ÐºÐ¸ Revit" Click="QuickErrors_Click" Margin="2" Padding="8,4"/>
                    <Button Content="Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°" Click="QuickCollaboration_Click" Margin="2" Padding="8,4"/>
                    <Button Content="Ð¨Ð°Ð±Ð»Ð¾Ð½Ñ‹" Click="QuickTemplates_Click" Margin="2" Padding="8,4"/>
                </WrapPanel>
            </StackPanel>
        </Border>

        <!-- Input Area -->
        <Grid Grid.Row="3" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBox x:Name="QuestionTextBox" Grid.Column="0" 
                     Height="30" VerticalContentAlignment="Center"
                     Padding="10,0,10,0"
                     KeyDown="QuestionTextBox_KeyDown"
                     Text="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¿Ð¾ BIM..."/>

            <Button Grid.Column="1" Content="âž¤" 
                    Width="40" Height="30" Margin="10,0,0,0"
                    Click="SendButton_Click" FontWeight="Bold"
                    Background="#0078D4" Foreground="White"/>
        </Grid>
    </Grid>
</Window>
